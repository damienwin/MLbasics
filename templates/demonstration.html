{% extends "slideindex.html" %}
{% block title %}Gradient Descent Page 1{% endblock %}
{% block navtitle %}Gradient Descent{% endblock %}

{% block content %}
<div class="container mt-4 ms-3">
    <div class="row">
        <div class="col-md-5">
            <h1>Enter Slope and Y-Intercept</h1>
            <form id="plotForm" action="/demonstration/plot" method="post" onsubmit="return validateForm()">  
                <div class="row">
                    <div class="col-md-6">
                        <label for="slope" class="form-label">Slope</label>
                        <input type="number" class="form-control" id="slope" name="slope" placeholder="Enter value between -3 and 3" min="-3" max="3" step="0.1">
                    </div>
                    
                    <div class="col-md-6">
                        <label for="intercept" class="form-label">Intercept</label>
                        <input type="number" class="form-control" id="intercept" name="intercept" placeholder="Enter value between 0 and 10" min="0" max="10" step="0.5">
                    </div>
                </div> 

                <div class="col-md-3">
                    <button type="submit" class="btn btn-outline-primary" style="background-color: #eaeaea; color: #2d2c2c; border-color: #2d2c2c;">Generate Plot</button>
                </div>
            </form>
            {% if generated %}
                <div class="mt-3">
                    <form id="animateForm" action="/demonstration/animate" method="post">
                        <button type="submit" class="btn btn-outline-primary" style="background-color: #eaeaea; color: #2d2c2c; border-color: #2d2c2c;">Animate</button>
                    </form>
                </div>
            {% endif %}
        </div>

        <div class="col-md-7">
            {% if plot %}
                {{ plot | safe }}
            {% elif animation %}
                {{ animation | safe }}
            {% endif %}
        </div>
    </div>
</div>

<script>
    function validateForm() {
        var slope = document.getElementById("slope").value;
        var intercept = document.getElementById("intercept").value;

        // Check for empty values
        if (slope.trim() === "" || intercept.trim() === "") {
            alert("Please enter values for both Slope and Intercept.");
            return false; // Prevent form submission
        }
        return true; // Allow form submission
    }
</script>
{% endblock %}

{% block slider %}
<div class="row">
    <div class="col-md-6 text-start">
        {% if prev_page %}
        <a href="/gradient_descent/{{ prev_page }}" class="btn btn-outline-info ms-2 text-dark border border-dark">
            <strong>
                <h4 class="mt-1">
                    <i class="bi bi-caret-left"></i> Prev
                </h4>
            </strong>
        </a>
        {% endif %}
    </div>
    <div class="col-md-6 text-end">
        <a href="/" class="btn btn-outline-info me-2 text-dark border border-dark">
            <strong>
                <h4 class="mt-1">
                    Home <i class="bi bi-house-fill"></i>
                </h4>
            </strong>
        </a>
    </div>
</div>
{% endblock %}

